<div class="background">
  <app-nav-bar></app-nav-bar>
    <div class="btn-card">
      <button class="btn" (click)="releaseTable()" >
        <span> Release Version </span>
      </button>
      <button class="btn" (click)="showCard = true">
        <span> Register Version </span>
      </button>
    </div>
    <div class="card" *ngIf="showCard">
      <h2>Select Option</h2>
      <div class="radio-inputs">
        <input type="radio"  name="Script" value="script" [(ngModel)]="selectedOption">
        <label for="html">Script</label>
        <input type="radio"  name="Store Procedure" value="s_procedure" [(ngModel)]="selectedOption">
        <label for="css">Store Procedure</label>
      </div>

      <div  *ngIf="selectedOption">
        <input list="versions" name="versions" [(ngModel)]="selectedVersion" >
    <datalist id="versions">
      <option *ngFor="let item of versions" >{{ item.version }}</option>
    </datalist>
        <button (click)="onSave()" (click)="saveVersion()">Save</button>

      </div>

    </div>
    <div class="form-container" *ngIf="showForm" >
      <form [formGroup]="releaseForm">
        <div>
          <label for="selected-option-value">Selected Option </label>
          <input id="selected-option-value" type="text" formControlName="selectedOption" readonly>
          <label for="selected-version-value">Selected Version :</label>
          <input id="selected-version-value" type="text"formControlName="selectedVersion" readonly>
          <label for="userID">User Id :</label>
          <input id="userID" type="text"formControlName="userID" maxlength="30">
          <label for="status">File status :</label>
          <input id="status" type="text"formControlName="status" maxlength="30">

        </div>
        <div>
          <label for="file-input">Upload File:</label>
          <input type="file" multiple id="fileInput" name="fileInput" accept="application/txt, application/sql" (change)="onFileUpload($event)">
        </div>
          <button (click)="onSubmit()">Submit</button>

      </form>
    </div>
    <div class="table-wrapper" *ngIf="showTable">
      <table class="tableFixHead" >
        <thead>
           <tr>
              <th>versions</th>
              <th>User ID</th>
              <th>File Status</th>
              <th>File </th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of releaseData; let i = index">
               <td> {{item.version }}  </td>
               <td> {{ item.userId }} </td>
               <td> {{item.status}} </td>
               <td> {{ item.file }} </td>
            </tr>
        </tbody>
    </table>
</div>





